

<!DOCTYPE html> 
<html> 

    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>A3: Input Output!</title>
        <link rel='shortcut icon' type='image/x-icon' href="/favicon.ico"/>

 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
 

    <body> 
	<a id="back" href="index.html">← Back</a>
        <div class="header">
                <h1 id="header">A3: Input Output!</h1>
		<p style="margin-top:0px;"> Measuring light levels with a photoresistor</p>
		<img src="A3.gif" width=70%></a>
        </div>

	
	
	</br>



		<div class="side-by-side">
			<div id="texts">
			<h3 id="subheader">SCHEMATIC</h3>
			<p>This schematic shows 2 blue LEDs, 1 multi-colored LED, and a pushbutton lined up in a parallel circuit. The Arduino is powered by a 5V USB cord where 5 different PWM pins are used to individually connect to the LEDs, plus 1 regular GPIO pin connecting to the button. For the LEDs and the button, resistors with specific values were calculated and selected (see "Calculating Resistors" below) to avoid damaging components on the circuit. All the resistors were then connected to ground.</p> </div>
			<img src="A3_schematic.png" style="height: auto;margin-left: 1rem;object-fit: contain;width: 50%;min-width: 20rem;">
		</div>
		</br>
		<div class="side-by-side">
			<div id="texts">
			<h3 id="subheader">CIRCUIT</h3>
			<p>Following the schematic outlined above, I built the circuit using the following components: 
<ul>
  <li><p>1 Arduino Uno R3</p></li>
  <li><p>1 breadboard</p></li>	
  <li><p>1 USB cable and power source (laptop)</p></li>
  <li><p>8 wires (1 for ground; 5 for LEDs; 2 for button) </p></li>
  <li><p>3 LEDs (2 blue; 1 multi-colored)</p></li>
  <li><p>1 pushbutton</p></li>
  <li><p>6 resistors (3 of 220Ω; 2 of 100Ω; 1 of 10kΩ)</p></li>
</ul>
</p> </div>
			<img src="A3_circuit.png" style="height: auto;margin-left: 1rem;object-fit: contain;width: 50%;min-width: 20rem;"></div>

       

 

	<div id="texts" style="width:80%;">
		<h3 id="subheader">CALCULATING RESISTORS</h3> </br>
		<p>For <span style="color: green;font-weight:bold;">Green</span> and <span style="color: red;font-weight:bold;">Red</span> LEDs in the multi-colored LED, — knowing that they have a 1.8 voltage drop and that the USB provides 5V, I calculated the 	
		voltage across the resistor as follows: </p>
		<p id="formula">V = 5V - 1.8V = 3.2V</p>
		<p>Using Ohm's Law, I then calculated the value of the resistors to achieve the desired current of 0.02A: </p>
		<p id="formula">voltage = current * resistance</p> 
		<p id="formula">3.2V    = 0.02A   * resistance </p> 
		<p id="formula">resistance = 3.2V / 0.02A = <span style="color: #8a8a8a;">160 Ω</span> </p>
		<p>Because the class kit provided does not include 160 Ω resistors, I <span style="color: #8a8a8a;font-weight:bold;">opted for a higher value of 220 Ω</span> which resulted in a lesser current but would prevent the LEDs from breaking. </p></br></br>

		<p>Using similar calculation for the <span style="color: #4287f5;font-weight:bold;">Blue</span> LEDs that have a 3.3 voltage drop, the voltage across the resistor would be </p>
		<p id="formula">V = 5V - 3.3V = 1.7 V </p>
		<p>Using Ohm's Law, </p>
		<p id="formula">voltage = current * resistance </p>
		<p id="formula">1.7V    = 0.02A   * resistance </p>
		<p id="formula">resistance = 1.7V / 0.02A = <span style="color: #8a8a8a;">85 Ω</span> </p>
		<p>Again, because the kit does not include 85 Ω resistors, I <span style="color: #8a8a8a;font-weight:bold;">used 100 Ω resistors for the 2 blue LEDs and a 220  Ω resistor for the blue LED in the multi-colored LED</span> for consistency, which didn't produce a noticeable difference in effect since any resistors with the value above 85 Ω should be fine.</p></br></br>

		<p>For the <span style="color: #ffffff;font-weight:bold;">button</span>, I <span style="color: #8a8a8a;font-weight:bold;">used a 10k Ω resistor</span> because  the 10k value limits the current to a lot less than the max current. For the button to work, we just need a nominal amount of current to flow, and the lower that amount is, the less power we will use.</p>

	</p>
	</div>

<div>
<h3 id="subheader">CODE SNIPPET</h3>
<pre>
<code> <span id="code-comment">/* This program measures light detected by a photoresistor and indicates 
each light level by turning on/off specific LEDs with special messages*/</span>


<span id="code-comment">// Blue LED pin #</span>
const int B =  3;
<span id="code-comment">// Green LED pin #</span>
const int G =  5; 
<span id="code-comment">// White LED pin #</span>
const int W =  6;
<span id="code-comment">// set sensor value to 0</span>
int sensorValue = 0;
<span id="code-comment">// set LED value to 0</span>
int outputValue = 0;

<span id="code-comment">// array of all LEDs</span>
int leds[] = {B,G,W};

<span id="code-comment">// initialize Blue, Green, and White LEDs as outputs</span>
void setup() {
  <span id="code-comment">// select each LED</span>
  for (int i=0; i<3; i++) {
    <span id="code-comment">// set Blue, Green, and White LEDs as outputs</span>
    pinMode(leds[i], OUTPUT);
  }
  <span id="code-comment">// starts serial communication</span>
  Serial.begin(9600);
}

<span id="code-comment">//on-going light detection to turn on/off specific LEDs</span>
<span id="code-comment">//depending on the brightness (dark, bright, very bright, and too bright)</span>
void loop() {
  <span id="code-comment">// read values from photoresistor</span>
  sensorValue = analogRead(A0);
  <span id="code-comment">// convert values from sensor (0-1023) into values for LEDs (0-255)</span> 
  outputValue = map(sensorValue, 0, 1023, 0, 255);
  <span id="code-comment">// check if LED value converted is less than or equal to 80 (dark)</span>
  if (outputValue <= 80) {
    <span id="code-comment">// set Blue LED to a specific brightness value</span>
    analogWrite(B, outputValue);
    <span id="code-comment">// turn Green LED off</span>
    digitalWrite(G, LOW);
    <span id="code-comment">// turn White LED off</span>
    digitalWrite(W, LOW);
    <span id="code-comment">// wait 5 seconds to stabilize</span>
    delay(5);
    <span id="code-comment">// print message to Serial board</span>
    Serial.println("It's dark!");
  <span id="code-comment">// check if LED value converted is between 81 and 160 (bright)</span>
  } else if ((outputValue >= 81) and (outputValue <= 160)) {
    <span id="code-comment">// set Green LED to a specific brightness value</span>
    analogWrite(G, outputValue);
    <span id="code-comment">// turn Blue LED off</span>
    digitalWrite(B, LOW);
    <span id="code-comment">// turn White LED off</span>
    digitalWrite(W, LOW);
    <span id="code-comment">// wait 5 seconds to stabilize</span>
    delay(5);
    <span id="code-comment">// print message to Serial board</span>
    Serial.println("It's light!");
    <span id="code-comment">// check if LED value converted is between 161 and 240 (very bright)</span>
  } else if ((outputValue >= 161) and (outputValue <= 240)) {
    <span id="code-comment">// set White LED to a specific brightness value</span>
    analogWrite(W, outputValue);
    <span id="code-comment">// turn Blue LED off</span>
    digitalWrite(B, LOW);
    <span id="code-comment">// turn Green LED off</span>
    digitalWrite(G, LOW);
    <span id="code-comment">// wait 5 seconds to stabilize</span>
    delay(5);
    <span id="code-comment">// print message to Serial board</span>
    Serial.println("It's super bright!");
    <span id="code-comment">// check if LED value converted is more than 241 (too bright)</span>
  } else {
    <span id="code-comment">// select each LED</span>
    for (int i=0; i<3; i++) {
      <span id="code-comment">// turn LEDs on</span>
      digitalWrite(leds[i], HIGH);
    }
    <span id="code-comment">//wait 100 milliseconds for flicker</span>
    delay(100);
    <span id="code-comment">// select each LED</span>
    for (int i=0; i<3; i++) {
      <span id="code-comment">// turn LEDs off</span>
      digitalWrite(leds[i], LOW);
    }
    <span id="code-comment">//wait 100 milliseconds for flicker</span>
    delay(100);
    <span id="code-comment">// print message to Serial board</span>
    Serial.println("It's way too bright!!");
  }
} </code>
</pre>
</div>




    </body>

</html>



